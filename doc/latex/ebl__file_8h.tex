\hypertarget{ebl__file_8h}{\section{include/xbee/ebl\-\_\-file.h File Reference}
\label{ebl__file_8h}\index{include/xbee/ebl\-\_\-file.\-h@{include/xbee/ebl\-\_\-file.\-h}}
}


Code for decoding headers from Ember firmware images (.E\-B\-L files).  


{\ttfamily \#include \char`\"{}xbee/platform.\-h\char`\"{}}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structem3xx__header__t}{em3xx\-\_\-header\-\_\-t}
\begin{DoxyCompactList}\small\item\em Header for E\-M3\-X\-X-\/based firmware images. \end{DoxyCompactList}\item 
struct \hyperlink{structem2xx__header__t}{em2xx\-\_\-header\-\_\-t}
\begin{DoxyCompactList}\small\item\em Header for E\-M2\-X\-X-\/based firmware images. \end{DoxyCompactList}\item 
union \hyperlink{unionebl__file__header__t}{ebl\-\_\-file\-\_\-header\-\_\-t}
\begin{DoxyCompactList}\small\item\em Union of header formats for all Ember firmware images. \end{DoxyCompactList}\item 
struct \hyperlink{structmicro__info__t}{micro\-\_\-info\-\_\-t}
\begin{DoxyCompactList}\small\item\em Structure used to hold table of micro\-\_\-info values from E\-M3\-X\-X header. \end{DoxyCompactList}\item 
struct \hyperlink{structplatform__info__t}{platform\-\_\-info\-\_\-t}
\begin{DoxyCompactList}\small\item\em Structure used to hold table of plat\-\_\-info values from E\-M3\-X\-X header. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{ebl__file_8h_a0f2b897c17bf9ae1b2cd9851196716be}{\#define {\bfseries I\-M\-A\-G\-E\-\_\-\-I\-N\-F\-O\-\_\-\-M\-A\-X\-L\-E\-N}~32}\label{ebl__file_8h_a0f2b897c17bf9ae1b2cd9851196716be}

\item 
\hypertarget{ebl__file_8h_a937ccc36148fdd6904c1c904fbf298c5}{\#define {\bfseries E\-B\-L\-T\-A\-G\-\_\-\-H\-E\-A\-D\-E\-R}~0x0000}\label{ebl__file_8h_a937ccc36148fdd6904c1c904fbf298c5}

\item 
\hypertarget{ebl__file_8h_a8e25211fb088e3ab48dc71e6b8f7e3f8}{\#define \hyperlink{ebl__file_8h_a8e25211fb088e3ab48dc71e6b8f7e3f8}{I\-M\-A\-G\-E\-\_\-\-S\-I\-G\-N\-A\-T\-U\-R\-E\-\_\-\-E\-M250}~0x\-E250}\label{ebl__file_8h_a8e25211fb088e3ab48dc71e6b8f7e3f8}

\begin{DoxyCompactList}\small\item\em signature\-\_\-be field for E\-M250 firmware images \end{DoxyCompactList}\item 
\hypertarget{ebl__file_8h_a74c183363281b19019e782fdaaaa722d}{\#define \hyperlink{ebl__file_8h_a74c183363281b19019e782fdaaaa722d}{I\-M\-A\-G\-E\-\_\-\-S\-I\-G\-N\-A\-T\-U\-R\-E\-\_\-\-E\-M260}~0x\-E260}\label{ebl__file_8h_a74c183363281b19019e782fdaaaa722d}

\begin{DoxyCompactList}\small\item\em signature\-\_\-be field for E\-M260 firmware images \end{DoxyCompactList}\item 
\hypertarget{ebl__file_8h_a26bf039838b5e8aa94bc9fe25e934723}{\#define \hyperlink{ebl__file_8h_a26bf039838b5e8aa94bc9fe25e934723}{I\-M\-A\-G\-E\-\_\-\-S\-I\-G\-N\-A\-T\-U\-R\-E\-\_\-\-E\-M350}~0x\-E350}\label{ebl__file_8h_a26bf039838b5e8aa94bc9fe25e934723}

\begin{DoxyCompactList}\small\item\em signature\-\_\-be field for E\-M351/\-E\-M357 firmware images \end{DoxyCompactList}\item 
\hypertarget{ebl__file_8h_a542099cec94e1f0d8a87d5859df367ed}{\#define {\bfseries M\-I\-C\-R\-O\-\_\-\-I\-N\-F\-O\-\_\-\-E\-N\-D}~\{ 0x\-F\-F, N\-U\-L\-L \}}\label{ebl__file_8h_a542099cec94e1f0d8a87d5859df367ed}

\item 
\hypertarget{ebl__file_8h_abf8b5e216ef4a2818d6e0ba2f542f228}{\#define {\bfseries P\-L\-A\-T\-F\-O\-R\-M\-\_\-\-I\-N\-F\-O\-\_\-\-E\-N\-D}~\{ 0x\-F\-F, N\-U\-L\-L \}}\label{ebl__file_8h_abf8b5e216ef4a2818d6e0ba2f542f228}

\item 
\hypertarget{ebl__file_8h_aa24d4ced9df77076dcba6faa16c8de58}{\#define {\bfseries E\-B\-L\-\_\-\-H\-E\-A\-D\-E\-R\-\_\-\-D\-U\-M\-P\-\_\-\-T\-A\-R\-G\-E\-T\-\_\-\-D\-E\-S\-C}~(1$<$$<$0)}\label{ebl__file_8h_aa24d4ced9df77076dcba6faa16c8de58}

\item 
\hypertarget{ebl__file_8h_a0e26b970096012545525a7762a0a8bbc}{\#define {\bfseries E\-B\-L\-\_\-\-H\-E\-A\-D\-E\-R\-\_\-\-D\-U\-M\-P\-\_\-\-P\-H\-Y\-\_\-\-D\-E\-S\-C}~(1$<$$<$1)}\label{ebl__file_8h_a0e26b970096012545525a7762a0a8bbc}

\item 
\hypertarget{ebl__file_8h_a988a596b7cfa5fc5015b0fc7df1548dc}{\#define {\bfseries E\-B\-L\-\_\-\-H\-E\-A\-D\-E\-R\-\_\-\-D\-U\-M\-P\-\_\-\-E\-M\-B\-E\-R\-\_\-\-V\-E\-R}~(1$<$$<$2)}\label{ebl__file_8h_a988a596b7cfa5fc5015b0fc7df1548dc}

\item 
\hypertarget{ebl__file_8h_af4029fdf323755e796810e2c44aed8a8}{\#define {\bfseries E\-B\-L\-\_\-\-H\-E\-A\-D\-E\-R\-\_\-\-D\-U\-M\-P\-\_\-\-T\-I\-M\-E\-S\-T\-A\-M\-P}~(1$<$$<$3)}\label{ebl__file_8h_af4029fdf323755e796810e2c44aed8a8}

\item 
\hypertarget{ebl__file_8h_a8cfed111192fb1caacaad8f367b72e75}{\#define {\bfseries E\-B\-L\-\_\-\-H\-E\-A\-D\-E\-R\-\_\-\-D\-U\-M\-P\-\_\-\-I\-M\-A\-G\-E\-\_\-\-I\-N\-F\-O}~(1$<$$<$4)}\label{ebl__file_8h_a8cfed111192fb1caacaad8f367b72e75}

\item 
\hypertarget{ebl__file_8h_ac07c0807bf8c3c66a8b56b4b880f0395}{\#define {\bfseries E\-B\-L\-\_\-\-H\-E\-A\-D\-E\-R\-\_\-\-D\-U\-M\-P\-\_\-\-E\-V\-E\-R\-Y\-T\-H\-I\-N\-G}~0x\-F\-F\-F\-F}\label{ebl__file_8h_ac07c0807bf8c3c66a8b56b4b880f0395}

\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
const char $\ast$ \hyperlink{ebl__file_8h_ab49eaa8fe613ec3a2af9b1ccbc3384ac}{ebl\-\_\-target\-\_\-desc} (\hyperlink{group__hal_gae1affc9ca37cfb624959c866a73f83c2}{uint8\-\_\-t} plat\-\_\-info, \hyperlink{group__hal_gae1affc9ca37cfb624959c866a73f83c2}{uint8\-\_\-t} micro\-\_\-info)
\begin{DoxyCompactList}\small\item\em Returns a description of the platform based on the plat\-\_\-info and micro\-\_\-info fields in the \hyperlink{structem3xx__header__t}{em3xx\-\_\-header\-\_\-t} structure. \end{DoxyCompactList}\item 
const char $\ast$ \hyperlink{ebl__file_8h_abc16929ba18cdba12557acb5d41edb74}{ebl\-\_\-phy\-\_\-desc} (\hyperlink{group__hal_gae1affc9ca37cfb624959c866a73f83c2}{uint8\-\_\-t} phy\-\_\-info)
\begin{DoxyCompactList}\small\item\em Returns a description of the P\-H\-Y based on the phy\-\_\-info field in the \hyperlink{structem3xx__header__t}{em3xx\-\_\-header\-\_\-t} structure. \end{DoxyCompactList}\item 
int \hyperlink{ebl__file_8h_a4c6f1be2b49287396a96ed667f3963d5}{ebl\-\_\-header\-\_\-dump} (const void $\ast$buffer, \hyperlink{group__hal_ga5a8b2dc9e45a9ee81a94ef304fb62505}{uint16\-\_\-t} flags)
\begin{DoxyCompactList}\small\item\em Prints a description of the .E\-B\-L file header. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const \hyperlink{structplatform__info__t}{platform\-\_\-info\-\_\-t} \hyperlink{ebl__file_8h_af85d30c72e504e8335d881bd864609e2}{platform\-\_\-info} \mbox{[}$\,$\mbox{]}
\begin{DoxyCompactList}\small\item\em Table of tables used to decode plat\-\_\-info and micro\-\_\-info fields from .E\-B\-L file header. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Code for decoding headers from Ember firmware images (.E\-B\-L files). 

\subsection{Function Documentation}
\hypertarget{ebl__file_8h_a4c6f1be2b49287396a96ed667f3963d5}{\index{ebl\-\_\-file.\-h@{ebl\-\_\-file.\-h}!ebl\-\_\-header\-\_\-dump@{ebl\-\_\-header\-\_\-dump}}
\index{ebl\-\_\-header\-\_\-dump@{ebl\-\_\-header\-\_\-dump}!ebl_file.h@{ebl\-\_\-file.\-h}}
\subsubsection[{ebl\-\_\-header\-\_\-dump}]{\setlength{\rightskip}{0pt plus 5cm}int ebl\-\_\-header\-\_\-dump (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{buffer, }
\item[{{\bf uint16\-\_\-t}}]{flags}
\end{DoxyParamCaption}
)}}\label{ebl__file_8h_a4c6f1be2b49287396a96ed667f3963d5}


Prints a description of the .E\-B\-L file header. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em buffer} & buffer with first 128 bytes of .E\-B\-L file \\
\hline
\mbox{\tt in}  & {\em flags} & combination of the following macros\-:
\begin{DoxyItemize}
\item \#\-E\-B\-L\-\_\-\-H\-E\-A\-D\-E\-R\-\_\-\-D\-U\-M\-P\-\_\-\-T\-A\-R\-G\-E\-T\-\_\-\-D\-E\-S\-C -\/ target description (E\-M3\-X\-X only)
\item \#\-E\-B\-L\-\_\-\-H\-E\-A\-D\-E\-R\-\_\-\-D\-U\-M\-P\-\_\-\-P\-H\-Y\-\_\-\-D\-E\-S\-C -\/ P\-H\-Y description (E\-M3\-X\-X only)
\item \#\-E\-B\-L\-\_\-\-H\-E\-A\-D\-E\-R\-\_\-\-D\-U\-M\-P\-\_\-\-E\-M\-B\-E\-R\-\_\-\-V\-E\-R -\/ Ember stack version (E\-M3\-X\-X only)
\item \#\-E\-B\-L\-\_\-\-H\-E\-A\-D\-E\-R\-\_\-\-D\-U\-M\-P\-\_\-\-T\-I\-M\-E\-S\-T\-A\-M\-P -\/ build date/timestamp
\item \#\-E\-B\-L\-\_\-\-H\-E\-A\-D\-E\-R\-\_\-\-D\-U\-M\-P\-\_\-\-I\-M\-A\-G\-E\-\_\-\-I\-N\-F\-O -\/ \char`\"{}image info\char`\"{} string
\item \#\-E\-B\-L\-\_\-\-H\-E\-A\-D\-E\-R\-\_\-\-D\-U\-M\-P\-\_\-\-E\-V\-E\-R\-Y\-T\-H\-I\-N\-G -\/ information on all possible fields
\end{DoxyItemize}\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em -\/\-E\-I\-N\-V\-A\-L} & invalid parameter passed to function \\
\hline
{\em -\/\-E\-I\-L\-S\-E\-Q} & not a valid E\-B\-L file header \\
\hline
{\em 0} & parsed header and printed info \\
\hline
\end{DoxyRetVals}


References be16toh, ebl\-\_\-file\-\_\-header\-\_\-t\-::common, ebl\-\_\-file\-\_\-header\-\_\-t\-::ebltag\-\_\-be, E\-I\-L\-S\-E\-Q, E\-I\-N\-V\-A\-L, I\-M\-A\-G\-E\-\_\-\-S\-I\-G\-N\-A\-T\-U\-R\-E\-\_\-\-E\-M250, I\-M\-A\-G\-E\-\_\-\-S\-I\-G\-N\-A\-T\-U\-R\-E\-\_\-\-E\-M260, I\-M\-A\-G\-E\-\_\-\-S\-I\-G\-N\-A\-T\-U\-R\-E\-\_\-\-E\-M350, and ebl\-\_\-file\-\_\-header\-\_\-t\-::signature\-\_\-be.

\hypertarget{ebl__file_8h_abc16929ba18cdba12557acb5d41edb74}{\index{ebl\-\_\-file.\-h@{ebl\-\_\-file.\-h}!ebl\-\_\-phy\-\_\-desc@{ebl\-\_\-phy\-\_\-desc}}
\index{ebl\-\_\-phy\-\_\-desc@{ebl\-\_\-phy\-\_\-desc}!ebl_file.h@{ebl\-\_\-file.\-h}}
\subsubsection[{ebl\-\_\-phy\-\_\-desc}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ ebl\-\_\-phy\-\_\-desc (
\begin{DoxyParamCaption}
\item[{{\bf uint8\-\_\-t}}]{phy\-\_\-info}
\end{DoxyParamCaption}
)}}\label{ebl__file_8h_abc16929ba18cdba12557acb5d41edb74}


Returns a description of the P\-H\-Y based on the phy\-\_\-info field in the \hyperlink{structem3xx__header__t}{em3xx\-\_\-header\-\_\-t} structure. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em phy\-\_\-info} & phy\-\_\-info field from E\-M3xx file header\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
String describing P\-H\-Y or, for uknown values, \char`\"{}\-P\-H\-Y X\-X\char`\"{} where X\-X is phy\-\_\-info in hex. 
\end{DoxyReturn}
\hypertarget{ebl__file_8h_ab49eaa8fe613ec3a2af9b1ccbc3384ac}{\index{ebl\-\_\-file.\-h@{ebl\-\_\-file.\-h}!ebl\-\_\-target\-\_\-desc@{ebl\-\_\-target\-\_\-desc}}
\index{ebl\-\_\-target\-\_\-desc@{ebl\-\_\-target\-\_\-desc}!ebl_file.h@{ebl\-\_\-file.\-h}}
\subsubsection[{ebl\-\_\-target\-\_\-desc}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ ebl\-\_\-target\-\_\-desc (
\begin{DoxyParamCaption}
\item[{{\bf uint8\-\_\-t}}]{plat\-\_\-info, }
\item[{{\bf uint8\-\_\-t}}]{micro\-\_\-info}
\end{DoxyParamCaption}
)}}\label{ebl__file_8h_ab49eaa8fe613ec3a2af9b1ccbc3384ac}


Returns a description of the platform based on the plat\-\_\-info and micro\-\_\-info fields in the \hyperlink{structem3xx__header__t}{em3xx\-\_\-header\-\_\-t} structure. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em plat\-\_\-info} & plat\-\_\-info field from E\-M3xx file header \\
\hline
\mbox{\tt in}  & {\em micro\-\_\-info} & micro\-\_\-info field from E\-M3xx file header\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
String describing platform or, for unknown combinations, \char`\"{}\-P\-:\-X\-X M\-:\-Y\-Y\char`\"{} where X\-X is plat\-\_\-info in hex and Y\-Y is micro\-\_\-info in hex. 
\end{DoxyReturn}


\subsection{Variable Documentation}
\hypertarget{ebl__file_8h_af85d30c72e504e8335d881bd864609e2}{\index{ebl\-\_\-file.\-h@{ebl\-\_\-file.\-h}!platform\-\_\-info@{platform\-\_\-info}}
\index{platform\-\_\-info@{platform\-\_\-info}!ebl_file.h@{ebl\-\_\-file.\-h}}
\subsubsection[{platform\-\_\-info}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf platform\-\_\-info\-\_\-t} platform\-\_\-info\mbox{[}$\,$\mbox{]}}}\label{ebl__file_8h_af85d30c72e504e8335d881bd864609e2}


Table of tables used to decode plat\-\_\-info and micro\-\_\-info fields from .E\-B\-L file header. 

See \hyperlink{xbee__ebl__file_8c_ab49eaa8fe613ec3a2af9b1ccbc3384ac}{ebl\-\_\-target\-\_\-desc()} 