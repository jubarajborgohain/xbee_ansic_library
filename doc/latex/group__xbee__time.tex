\hypertarget{group__xbee__time}{\section{Xbee\-\_\-time}
\label{group__xbee__time}\index{Xbee\-\_\-time@{Xbee\-\_\-time}}
}
\subsection*{Files}
\begin{DoxyCompactItemize}
\item 
file \hyperlink{xbee__time_8c}{xbee\-\_\-time.\-c}
\begin{DoxyCompactList}\small\item\em Implementations of \hyperlink{time_8h}{time.\-h} functions from the Standard C Library for platforms that may not support them, or for writing portable code to use January 1, 2000 as the epoch (as in the Zig\-Bee specification). \end{DoxyCompactList}\item 
file \hyperlink{time_8h}{time.\-h}
\begin{DoxyCompactList}\small\item\em Header for portable time functions using January 1, 2000 a the epoch. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{group__xbee__time_ga403c3fdc8bbbe38ae7f31f92b5b0eebf}{\#define {\bfseries \-\_\-xbee\-\_\-time\-\_\-debug}}\label{group__xbee__time_ga403c3fdc8bbbe38ae7f31f92b5b0eebf}

\item 
\hypertarget{group__xbee__time_gaff9233a38930ed8e37c64e6b39f33b43}{\#define {\bfseries X\-B\-E\-E\-\_\-\-U\-T\-C\-T\-I\-M\-E\-\_\-\-I\-N\-V\-A\-L\-I\-D}~0x\-F\-F\-F\-F\-F\-F\-F\-F}\label{group__xbee__time_gaff9233a38930ed8e37c64e6b39f33b43}

\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
struct tm $\ast$ \hyperlink{group__xbee__time_ga82532f78c0106d9d57ccc370781f1c0a}{xbee\-\_\-gmtime} (struct tm $\ast$dest\-\_\-tm, xbee\-\_\-utctime\-\_\-t timestamp)
\begin{DoxyCompactList}\small\item\em Converts a U\-T\-C\-Time value into a \char`\"{}broken-\/down time\char`\"{} (a struct tm) for directly accessing month, day, year, hour, minute and second, or for use with other functions from $<$\hyperlink{time_8h}{time.\-h}$>$. \end{DoxyCompactList}\item 
void \hyperlink{group__xbee__time_gab8e5ed3b6996c7110d8f1698ea1cff62}{\-\_\-xbee\-\_\-mktime\-\_\-normalize} (int $\ast$major, int $\ast$minor, int count)
\item 
xbee\-\_\-utctime\-\_\-t \hyperlink{group__xbee__time_gaed48be3b2d3a20dcd32ea14b52eb4e60}{xbee\-\_\-mktime} (struct tm $\ast$time\-\_\-rec)
\begin{DoxyCompactList}\small\item\em Convert a struct tm (from the Standard C Library's {\ttfamily \hyperlink{time_8h}{time.\-h}}) to a xbee\-\_\-utctime\-\_\-t type (number of seconds since Midnight January 1, 2000 U\-T\-C). \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hypertarget{group__xbee__time_ga5b559cd0f08a9ef0c00524862093c46f}{\hyperlink{group__hal_ga336bff4f4a6012aacc4468132bbd3d7f}{X\-B\-E\-E\-\_\-\-B\-E\-G\-I\-N\-\_\-\-D\-E\-C\-L\-S} typedef \hyperlink{group__hal__dos_ga09a1e304d66d35dd47daffee9731edaa}{uint32\-\_\-t} {\bfseries xbee\-\_\-utctime\-\_\-t}}\label{group__xbee__time_ga5b559cd0f08a9ef0c00524862093c46f}

\item 
const \hyperlink{group__hal_ga5a8b2dc9e45a9ee81a94ef304fb62505}{uint16\-\_\-t} {\bfseries \-\_\-xbee\-\_\-time\-\_\-jom} \mbox{[}2\mbox{]}\mbox{[}12\mbox{]}
\item 
const \hyperlink{group__hal_gae1affc9ca37cfb624959c866a73f83c2}{uint8\-\_\-t} {\bfseries \-\_\-xbee\-\_\-time\-\_\-dom} \mbox{[}2\mbox{]}\mbox{[}12\mbox{]}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


\subsection{Function Documentation}
\hypertarget{group__xbee__time_gab8e5ed3b6996c7110d8f1698ea1cff62}{\index{Xbee\-\_\-time@{Xbee\-\_\-time}!\-\_\-xbee\-\_\-mktime\-\_\-normalize@{\-\_\-xbee\-\_\-mktime\-\_\-normalize}}
\index{\-\_\-xbee\-\_\-mktime\-\_\-normalize@{\-\_\-xbee\-\_\-mktime\-\_\-normalize}!Xbee_time@{Xbee\-\_\-time}}
\subsubsection[{\-\_\-xbee\-\_\-mktime\-\_\-normalize}]{\setlength{\rightskip}{0pt plus 5cm}void \-\_\-xbee\-\_\-mktime\-\_\-normalize (
\begin{DoxyParamCaption}
\item[{int $\ast$}]{major, }
\item[{int $\ast$}]{minor, }
\item[{int}]{count}
\end{DoxyParamCaption}
)}}\label{group__xbee__time_gab8e5ed3b6996c7110d8f1698ea1cff62}
Normalize {\itshape minor} such that it is in the range \mbox{[}0, {\itshape count}) by adding {\itshape count} to {\itshape minor} (and subtracting 1 from {\itshape major}) or subtracting {\itshape count} from {\itshape minor} (and adding 1 to {\itshape major}). 

Referenced by xbee\-\_\-mktime().

\hypertarget{group__xbee__time_ga82532f78c0106d9d57ccc370781f1c0a}{\index{Xbee\-\_\-time@{Xbee\-\_\-time}!xbee\-\_\-gmtime@{xbee\-\_\-gmtime}}
\index{xbee\-\_\-gmtime@{xbee\-\_\-gmtime}!Xbee_time@{Xbee\-\_\-time}}
\subsubsection[{xbee\-\_\-gmtime}]{\setlength{\rightskip}{0pt plus 5cm}struct tm $\ast$ xbee\-\_\-gmtime (
\begin{DoxyParamCaption}
\item[{struct tm $\ast$}]{dest\-\_\-tm, }
\item[{xbee\-\_\-utctime\-\_\-t}]{timestamp}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [read]}}}\label{group__xbee__time_ga82532f78c0106d9d57ccc370781f1c0a}


Converts a U\-T\-C\-Time value into a \char`\"{}broken-\/down time\char`\"{} (a struct tm) for directly accessing month, day, year, hour, minute and second, or for use with other functions from $<$\hyperlink{time_8h}{time.\-h}$>$. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em dest\-\_\-tm} & Destination \char`\"{}struct tm\char`\"{} structure to hold the broken-\/down time. See \hyperlink{time_8h}{time.\-h} for details on that structure. \\
\hline
\mbox{\tt in}  & {\em timestamp} & Timestamp to convert. Number of seconds since 1/1/2000 U\-T\-C.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns the {\ttfamily dest\-\_\-tm} parameter. 
\end{DoxyReturn}


References seconds.



Referenced by \-\_\-zcl\-\_\-format\-\_\-utctime().

\hypertarget{group__xbee__time_gaed48be3b2d3a20dcd32ea14b52eb4e60}{\index{Xbee\-\_\-time@{Xbee\-\_\-time}!xbee\-\_\-mktime@{xbee\-\_\-mktime}}
\index{xbee\-\_\-mktime@{xbee\-\_\-mktime}!Xbee_time@{Xbee\-\_\-time}}
\subsubsection[{xbee\-\_\-mktime}]{\setlength{\rightskip}{0pt plus 5cm}xbee\-\_\-utctime\-\_\-t xbee\-\_\-mktime (
\begin{DoxyParamCaption}
\item[{struct tm $\ast$}]{time\-\_\-rec}
\end{DoxyParamCaption}
)}}\label{group__xbee__time_gaed48be3b2d3a20dcd32ea14b52eb4e60}


Convert a struct tm (from the Standard C Library's {\ttfamily \hyperlink{time_8h}{time.\-h}}) to a xbee\-\_\-utctime\-\_\-t type (number of seconds since Midnight January 1, 2000 U\-T\-C). 

Does N\-O\-T properly handle D\-S\-T and Timezones in the struct tm. Assumes the struct is in U\-T\-C. Keep this in mind if passing a struct tm generated by the host's gmtime() to this function.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em time\-\_\-rec} & broken-\/down (componentized) calendar representation of time\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
number of seconds since 01/01/2000 00\-:00\-:00 U\-T\-C or X\-B\-E\-E\-\_\-\-U\-T\-C\-T\-I\-M\-E\-\_\-\-I\-N\-V\-A\-L\-I\-D if {\ttfamily time\-\_\-rec} is before 1/1/2000
\end{DoxyReturn}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000012}{Todo}]Handle D\-S\-T and time zones. \end{DoxyRefDesc}


References \-\_\-xbee\-\_\-mktime\-\_\-normalize().



\subsection{Variable Documentation}
\hypertarget{group__xbee__time_ga99177a6421e20c7ae299044223f19818}{\index{Xbee\-\_\-time@{Xbee\-\_\-time}!\-\_\-xbee\-\_\-time\-\_\-dom@{\-\_\-xbee\-\_\-time\-\_\-dom}}
\index{\-\_\-xbee\-\_\-time\-\_\-dom@{\-\_\-xbee\-\_\-time\-\_\-dom}!Xbee_time@{Xbee\-\_\-time}}
\subsubsection[{\-\_\-xbee\-\_\-time\-\_\-dom}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf uint8\-\_\-t} \-\_\-xbee\-\_\-time\-\_\-dom}}\label{group__xbee__time_ga99177a6421e20c7ae299044223f19818}
{\bfseries Initial value\-:}
\begin{DoxyCode}
=
\{
   \{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31\},        
   \{31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31\}         
\}
\end{DoxyCode}
\hypertarget{group__xbee__time_ga85d445ee223b8e72bded9b5f19f7e45c}{\index{Xbee\-\_\-time@{Xbee\-\_\-time}!\-\_\-xbee\-\_\-time\-\_\-jom@{\-\_\-xbee\-\_\-time\-\_\-jom}}
\index{\-\_\-xbee\-\_\-time\-\_\-jom@{\-\_\-xbee\-\_\-time\-\_\-jom}!Xbee_time@{Xbee\-\_\-time}}
\subsubsection[{\-\_\-xbee\-\_\-time\-\_\-jom}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf uint16\-\_\-t} \-\_\-xbee\-\_\-time\-\_\-jom}}\label{group__xbee__time_ga85d445ee223b8e72bded9b5f19f7e45c}
{\bfseries Initial value\-:}
\begin{DoxyCode}
=
\{
   \{0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334\},    
   \{0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335\}     
\}
\end{DoxyCode}
